# ğŸŒ¿ Life Tracker - ç”Ÿæ´»ä½œæ¯è¨˜éŒ„æ‡‰ç”¨

> ä¸€å€‹ç”¨æ–¼è¨˜éŒ„æ—¥å¸¸ç”Ÿæ´»ä½œæ¯çš„ç¶²é æ‡‰ç”¨ï¼Œæ”¯æ´å¤šç¨®è¨˜éŒ„é¡å‹ã€çµ±è¨ˆåˆ†æå’Œç¤¾ç¾¤äº’å‹•åŠŸèƒ½ã€‚

---

## ğŸ“‹ ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¿°](#å°ˆæ¡ˆæ¦‚è¿°)
2. [æŠ€è¡“æ£§](#æŠ€è¡“æ£§)
3. [è³‡æ–™åº«è¨­è¨ˆ](#è³‡æ–™åº«è¨­è¨ˆ)
4. [è¨˜éŒ„é¡å‹è©³ç´°è¦æ ¼](#è¨˜éŒ„é¡å‹è©³ç´°è¦æ ¼)
5. [ç¶²é æ¶æ§‹](#ç¶²é æ¶æ§‹)
6. [é é¢è¨­è¨ˆè¦æ ¼](#é é¢è¨­è¨ˆè¦æ ¼)
7. [é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)
8. [Supabase è¨­ç½®æŒ‡å—](#supabase-è¨­ç½®æŒ‡å—)

---

## å°ˆæ¡ˆæ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½

- **å¤šé¡å‹ç”Ÿæ´»è¨˜éŒ„**ï¼šé£²é£Ÿã€æ’ä¾¿ã€ç¡çœ ã€é‹å‹•ã€è¦ªå¯†ã€è—¥ç‰©ã€è‡ªè¨‚é¡å‹
- **è¦–è¦ºåŒ–å‘ˆç¾**ï¼šæ—¥æ›†è¦–åœ–ã€çµ±è¨ˆåœ–è¡¨ã€è¶¨å‹¢åˆ†æ
- **éš±ç§æ§åˆ¶**ï¼šæ¯æ¢è¨˜éŒ„å¯ç¨ç«‹è¨­ç½®å…¬é–‹/ç§å¯†
- **ç¤¾ç¾¤åŠŸèƒ½**ï¼šå…¬é–‹çµ±è¨ˆã€æ’è¡Œæ¦œã€PK æŒ‘æˆ°
- **ç”¨æˆ¶ç³»çµ±**ï¼šè¨»å†Šç™»å…¥ã€å€‹äººè³‡æ–™ã€æ•¸æ“šç®¡ç†

### ç›®æ¨™å¹³å°

- ä¸»è¦ï¼šWeb (PWA æ”¯æ´)
- éƒ¨ç½²ï¼šGitHub Pages (å‰ç«¯) + Supabase (å¾Œç«¯)

---

## æŠ€è¡“æ£§

### å‰ç«¯

| é¡åˆ¥ | æŠ€è¡“é¸æ“‡ | ç”¨é€” |
|------|----------|------|
| æ¡†æ¶ | React 18 + TypeScript | ä¸»æ¡†æ¶ |
| è·¯ç”± | React Router v6 | é é¢è·¯ç”± |
| æ¨£å¼ | Tailwind CSS | UI æ¨£å¼ |
| å‹•ç•« | Framer Motion | äº¤äº’å‹•ç•« |
| åœ–è¡¨ | Recharts | çµ±è¨ˆåœ–è¡¨ |
| æ—¥æ›† | react-calendar | æ—¥æ›†è¦–åœ– |
| ç‹€æ…‹ç®¡ç† | Zustand | å…¨å±€ç‹€æ…‹ |
| è¡¨å–® | React Hook Form + Zod | è¡¨å–®é©—è­‰ |
| åœ–æ¨™ | Lucide React | åœ–æ¨™åº« |
| æ—¥æœŸè™•ç† | date-fns | æ—¥æœŸæ“ä½œ |

### å¾Œç«¯ (Supabase)

| æœå‹™ | ç”¨é€” |
|------|------|
| Supabase Auth | ç”¨æˆ¶èªè­‰ï¼ˆEmail + OAuthï¼‰ |
| Supabase Database | PostgreSQL æ•¸æ“šå­˜å„² |
| Supabase Storage | åœ–ç‰‡ä¸Šå‚³ï¼ˆé£²é£Ÿç…§ç‰‡ç­‰ï¼‰ |
| Row Level Security | æ•¸æ“šæ¬Šé™æ§åˆ¶ |
| Database Functions | çµ±è¨ˆèšåˆæŸ¥è©¢ |
| Realtime | å³æ™‚æ•¸æ“šåŒæ­¥ï¼ˆå¯é¸ï¼‰ |

### é–‹ç™¼å·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| Vite | æ§‹å»ºå·¥å…· |
| ESLint + Prettier | ä»£ç¢¼è¦ç¯„ |
| GitHub Actions | CI/CD è‡ªå‹•éƒ¨ç½² |

---

## è³‡æ–™åº«è¨­è¨ˆ

### ER åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   users     â”‚       â”‚   records   â”‚       â”‚  record_types   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚â”€â”€â”    â”‚ id (PK)     â”‚       â”‚ id (PK)         â”‚
â”‚ email       â”‚  â”‚    â”‚ user_id(FK) â”‚â”€â”€â”    â”‚ user_id (FK)    â”‚
â”‚ username    â”‚  â””â”€â”€â”€â–¶â”‚ type        â”‚  â”‚    â”‚ name            â”‚
â”‚ avatar_url  â”‚       â”‚ data (JSONB)â”‚  â”‚    â”‚ icon            â”‚
â”‚ bio         â”‚       â”‚ visibility  â”‚  â”‚    â”‚ fields (JSONB)  â”‚
â”‚ settings    â”‚       â”‚ recorded_at â”‚  â”‚    â”‚ color           â”‚
â”‚ created_at  â”‚       â”‚ created_at  â”‚  â”‚    â”‚ is_system       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚ created_at      â”‚
                                       â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   streaks   â”‚                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ id (PK)     â”‚                        â”‚
â”‚ user_id(FK) â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ type        â”‚
â”‚ current     â”‚
â”‚ longest     â”‚
â”‚ last_date   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è³‡æ–™è¡¨çµæ§‹

#### 1. `users` - ç”¨æˆ¶è¡¨

```sql
CREATE TABLE users (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  email TEXT UNIQUE NOT NULL,
  username TEXT UNIQUE,
  avatar_url TEXT,
  bio TEXT,
  settings JSONB DEFAULT '{
    "default_visibility": "private",
    "theme": "system",
    "language": "zh-TW",
    "notifications": true
  }',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**settings JSONB çµæ§‹**ï¼š
```json
{
  "default_visibility": "private" | "stats_only" | "public",
  "theme": "light" | "dark" | "system",
  "language": "zh-TW" | "en",
  "notifications": boolean,
  "public_profile": boolean,
  "show_in_leaderboard": boolean
}
```

#### 2. `records` - è¨˜éŒ„è¡¨ï¼ˆæ ¸å¿ƒè¡¨ï¼‰

```sql
CREATE TABLE records (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  type TEXT NOT NULL,  -- 'meal' | 'bowel' | 'sleep' | 'exercise' | 'intimacy' | 'medication' | 'custom_xxx'
  data JSONB NOT NULL,
  visibility TEXT DEFAULT 'private' CHECK (visibility IN ('private', 'stats_only', 'public')),
  recorded_at TIMESTAMPTZ NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_records_user_id ON records(user_id);
CREATE INDEX idx_records_type ON records(type);
CREATE INDEX idx_records_recorded_at ON records(recorded_at);
CREATE INDEX idx_records_visibility ON records(visibility);
```

#### 3. `custom_record_types` - è‡ªè¨‚è¨˜éŒ„é¡å‹

```sql
CREATE TABLE custom_record_types (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  slug TEXT NOT NULL,  -- ç”¨æ–¼ type æ¬„ä½ï¼Œå¦‚ 'custom_water_intake'
  icon TEXT NOT NULL,  -- emoji æˆ– lucide icon name
  color TEXT DEFAULT '#6366f1',
  fields JSONB NOT NULL,  -- å®šç¾©æ¬„ä½çµæ§‹
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(user_id, slug)
);
```

**fields JSONB çµæ§‹**ï¼š
```json
[
  {
    "name": "amount",
    "label": "é£²æ°´é‡",
    "type": "number",  // "text" | "number" | "select" | "boolean" | "datetime" | "rating"
    "unit": "ml",
    "required": true,
    "options": null  // for select type: ["option1", "option2"]
  }
]
```

#### 4. `streaks` - é€£çºŒè¨˜éŒ„çµ±è¨ˆ

```sql
CREATE TABLE streaks (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  type TEXT NOT NULL,  -- è¨˜éŒ„é¡å‹
  current_streak INT DEFAULT 0,
  longest_streak INT DEFAULT 0,
  last_record_date DATE,
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(user_id, type)
);
```

---

## è¨˜éŒ„é¡å‹è©³ç´°è¦æ ¼

### ç³»çµ±é è¨­é¡å‹

#### 1. ğŸ½ï¸ é£²é£Ÿè¨˜éŒ„ (meal)

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| meal_type | select | âœ… | é¤åˆ¥ï¼šbreakfast / lunch / dinner / snack / drink |
| content | text | âœ… | åƒäº†ä»€éº¼ï¼ˆæ–‡å­—æè¿°ï¼‰ |
| photo_url | text | âŒ | ç…§ç‰‡ URL (Supabase Storage) |
| calories | number | âŒ | ä¼°ç®—ç†±é‡ (kcal) |
| location | text | âŒ | åœ°é»ï¼ˆå¦‚ï¼šå®¶ã€å…¬å¸ã€é¤å»³åï¼‰ |
| tags | text[] | âŒ | æ¨™ç±¤ï¼šå¦‚ ["å¥åº·", "å¤–é£Ÿ", "ç”œé»"] |
| rating | number | âŒ | æ»¿æ„åº¦ 1-5 |
| notes | text | âŒ | å‚™è¨» |

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "meal_type": "lunch",
  "content": "æ»·è‚‰é£¯ + ç‡™é’èœ + å‘³å™Œæ¹¯",
  "photo_url": "https://xxx.supabase.co/storage/v1/...",
  "calories": 650,
  "location": "å…¬å¸æ¨“ä¸‹ä¾¿ç•¶åº—",
  "tags": ["å¤–é£Ÿ", "å°å¼"],
  "rating": 4,
  "notes": "ä»Šå¤©æ»·è‚‰é£¯ç‰¹åˆ¥é¦™"
}
```

#### 2. ğŸ’© æ’ä¾¿è¨˜éŒ„ (bowel)

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| bristol_scale | number | âœ… | Bristol é‡è¡¨ 1-7 |
| duration | number | âŒ | æ™‚é•·ï¼ˆåˆ†é˜ï¼‰ |
| strain_level | number | âŒ | ç”¨åŠ›ç¨‹åº¦ 1-5 |
| blood | boolean | âŒ | æ˜¯å¦æœ‰è¡€ |
| color | select | âŒ | é¡è‰²ï¼šbrown / dark_brown / green / yellow / black / red |
| notes | text | âŒ | å‚™è¨» |

**Bristol é‡è¡¨èªªæ˜**ï¼š
1. åˆ†é›¢çš„ç¡¬å¡Šï¼ˆä¾¿ç§˜åš´é‡ï¼‰
2. é¦™è…¸ç‹€ä½†è¡¨é¢å‡¹å‡¸
3. é¦™è…¸ç‹€ä½†è¡¨é¢æœ‰è£‚ç—•
4. åƒé¦™è…¸æˆ–è›‡ï¼Œå…‰æ»‘æŸ”è»Ÿ âœ… ç†æƒ³
5. è»Ÿå¡Šï¼Œé‚Šç·£æ¸…æ™°
6. ç³Šç‹€ï¼Œé‚Šç·£ä¸è¦å‰‡
7. æ°´ç‹€ï¼Œç„¡å›ºé«”ï¼ˆè…¹ç€‰ï¼‰

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "bristol_scale": 4,
  "duration": 5,
  "strain_level": 1,
  "blood": false,
  "color": "brown",
  "notes": ""
}
```

#### 3. ğŸ˜´ ç¡çœ è¨˜éŒ„ (sleep)

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| sleep_time | datetime | âœ… | å…¥ç¡æ™‚é–“ |
| wake_time | datetime | âœ… | èµ·åºŠæ™‚é–“ |
| quality | number | âŒ | ç¡çœ å“è³ª 1-5 |
| dream | boolean | âŒ | æ˜¯å¦åšå¤¢ |
| dream_content | text | âŒ | å¤¢çš„å…§å®¹ |
| interruptions | number | âŒ | ä¸­æ–·æ¬¡æ•¸ |
| aids | text[] | âŒ | åŠ©çœ æ–¹å¼ï¼š["ç™½å™ªéŸ³", "çœ¼ç½©", "è¤ªé»‘æ¿€ç´ "] |
| notes | text | âŒ | å‚™è¨» |

**è‡ªå‹•è¨ˆç®—æ¬„ä½**ï¼ˆå‰ç«¯è¨ˆç®—ï¼Œä¸å­˜å„²ï¼‰ï¼š
- `duration`: ç¡çœ æ™‚é•·ï¼ˆå°æ™‚ï¼‰
- `efficiency`: ç¡çœ æ•ˆç‡

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "sleep_time": "2024-01-15T23:30:00+08:00",
  "wake_time": "2024-01-16T07:15:00+08:00",
  "quality": 4,
  "dream": true,
  "dream_content": "å¤¢åˆ°åœ¨æµ·é‚Š",
  "interruptions": 1,
  "aids": ["ç™½å™ªéŸ³"],
  "notes": "åŠå¤œè¢«è²“åµé†’ä¸€æ¬¡"
}
```

#### 4. ğŸƒ é‹å‹•è¨˜éŒ„ (exercise)

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| exercise_type | select | âœ… | é‹å‹•é¡å‹ |
| duration | number | âœ… | æ™‚é•·ï¼ˆåˆ†é˜ï¼‰ |
| intensity | select | âŒ | å¼·åº¦ï¼šlight / moderate / vigorous |
| calories_burned | number | âŒ | æ¶ˆè€—ç†±é‡ |
| distance | number | âŒ | è·é›¢ï¼ˆå…¬é‡Œï¼Œé©ç”¨æ–¼è·‘æ­¥ã€é¨è»Šç­‰ï¼‰ |
| heart_rate_avg | number | âŒ | å¹³å‡å¿ƒç‡ |
| heart_rate_max | number | âŒ | æœ€é«˜å¿ƒç‡ |
| location | text | âŒ | åœ°é» |
| notes | text | âŒ | å‚™è¨» |

**exercise_type é¸é …**ï¼š
- running (è·‘æ­¥)
- walking (èµ°è·¯)
- cycling (é¨è»Š)
- swimming (æ¸¸æ³³)
- gym (å¥èº«æˆ¿)
- yoga (ç‘œä¼½)
- basketball (ç±ƒçƒ)
- badminton (ç¾½æ¯›çƒ)
- hiking (ç™»å±±)
- other (å…¶ä»–)

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "exercise_type": "running",
  "duration": 35,
  "intensity": "moderate",
  "calories_burned": 320,
  "distance": 5.2,
  "heart_rate_avg": 145,
  "heart_rate_max": 168,
  "location": "æ²³æ¿±å…¬åœ’",
  "notes": "ä»Šå¤©é…é€Ÿä¸éŒ¯"
}
```

#### 5. ğŸ’• è¦ªå¯†è¨˜éŒ„ (intimacy)

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| type | select | âœ… | é¡å‹ï¼šsolo / partnered |
| duration | number | âŒ | æ™‚é•·ï¼ˆåˆ†é˜ï¼‰ |
| satisfaction | number | âŒ | æ»¿æ„åº¦ 1-5 |
| protection | boolean | âŒ | æ˜¯å¦ä½¿ç”¨ä¿è­·æªæ–½ |
| partner_initiate | boolean | âŒ | æ˜¯å¦ç”±å°æ–¹ä¸»å‹• |
| mood_before | select | âŒ | äº‹å‰å¿ƒæƒ… |
| mood_after | select | âŒ | äº‹å¾Œå¿ƒæƒ… |
| notes | text | âŒ | å‚™è¨» |

**mood é¸é …**ï¼šhappy / relaxed / stressed / tired / neutral

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "type": "partnered",
  "duration": 25,
  "satisfaction": 5,
  "protection": true,
  "partner_initiate": false,
  "mood_before": "relaxed",
  "mood_after": "happy",
  "notes": ""
}
```

**éš±ç§èªªæ˜**ï¼šæ­¤é¡å‹é è¨­ visibility ç‚º `private`ï¼Œä¸”åœ¨å…¬é–‹çµ±è¨ˆä¸­åªé¡¯ç¤ºé »ç‡ï¼Œä¸é¡¯ç¤ºä»»ä½•ç´°ç¯€ã€‚

#### 6. ğŸ’Š è—¥ç‰©è¨˜éŒ„ (medication)

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| medication_name | text | âœ… | è—¥ç‰©åç¨± |
| dosage | text | âœ… | åŠ‘é‡ï¼ˆå¦‚ "500mg", "1é¡†"ï¼‰ |
| purpose | text | âŒ | ç”¨é€”ï¼ˆå¦‚ "é ­ç—›", "ç¶­ä»–å‘½"ï¼‰ |
| prescription | boolean | âŒ | æ˜¯å¦è™•æ–¹è—¥ |
| taken | boolean | âœ… | æ˜¯å¦å·²æœç”¨ |
| scheduled_time | time | âŒ | é å®šæœè—¥æ™‚é–“ |
| actual_time | datetime | âŒ | å¯¦éš›æœè—¥æ™‚é–“ |
| side_effects | text | âŒ | å‰¯ä½œç”¨è¨˜éŒ„ |
| notes | text | âŒ | å‚™è¨» |

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "medication_name": "ç¶­ä»–å‘½D",
  "dosage": "1000IU",
  "purpose": "è£œå……ç¶­ä»–å‘½",
  "prescription": false,
  "taken": true,
  "scheduled_time": "08:00",
  "actual_time": "2024-01-15T08:15:00+08:00",
  "side_effects": "",
  "notes": ""
}
```

#### 7. ğŸ’§ é£²æ°´è¨˜éŒ„ (water) - é¡å¤–å»ºè­°

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| amount | number | âœ… | é£²æ°´é‡ (ml) |
| type | select | âŒ | é¡å‹ï¼šwater / tea / coffee / other |
| temperature | select | âŒ | æº«åº¦ï¼šcold / room / warm / hot |

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "amount": 350,
  "type": "water",
  "temperature": "room"
}
```

#### 8. ğŸ˜Š å¿ƒæƒ…è¨˜éŒ„ (mood) - é¡å¤–å»ºè­°

| æ¬„ä½ | é¡å‹ | å¿…å¡« | èªªæ˜ |
|------|------|------|------|
| mood_level | number | âœ… | å¿ƒæƒ…æŒ‡æ•¸ 1-10 |
| emotions | text[] | âŒ | æƒ…ç·’æ¨™ç±¤ |
| energy_level | number | âŒ | ç²¾åŠ›æŒ‡æ•¸ 1-5 |
| stress_level | number | âŒ | å£“åŠ›æŒ‡æ•¸ 1-5 |
| triggers | text | âŒ | è§¸ç™¼å› ç´  |
| notes | text | âŒ | æ—¥è¨˜/å‚™è¨» |

**emotions é¸é …**ï¼š
happy / sad / anxious / calm / angry / excited / bored / grateful / frustrated / hopeful / lonely / content

**data JSONB ç¯„ä¾‹**ï¼š
```json
{
  "mood_level": 7,
  "emotions": ["content", "grateful"],
  "energy_level": 4,
  "stress_level": 2,
  "triggers": "å®Œæˆäº†ä¸€å€‹é‡è¦çš„å°ˆæ¡ˆ",
  "notes": "ä»Šå¤©éå¾—å¾ˆå……å¯¦"
}
```

### è‡ªè¨‚è¨˜éŒ„é¡å‹

ç”¨æˆ¶å¯ä»¥å»ºç«‹è‡ªå·±çš„è¨˜éŒ„é¡å‹ï¼Œä¾‹å¦‚ï¼š
- ğŸ’¦ é£²æ°´é‡
- ğŸ“š é–±è®€
- ğŸ§˜ å†¥æƒ³
- ğŸ’° è¨˜å¸³
- ğŸ® éŠæˆ²æ™‚é–“
- â˜• å’–å•¡å› æ”å–

---

## ç¶²é æ¶æ§‹

### è·¯ç”±çµæ§‹

```
/                           # é¦–é ï¼ˆLanding Page / å…¬å…±çµ±è¨ˆï¼‰
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ /login              # ç™»å…¥
â”‚   â”œâ”€â”€ /register           # è¨»å†Š
â”‚   â””â”€â”€ /forgot-password    # å¿˜è¨˜å¯†ç¢¼
â”‚
â”œâ”€â”€ /app                    # æ‡‰ç”¨ä¸»é«”ï¼ˆéœ€ç™»å…¥ï¼‰
â”‚   â”œâ”€â”€ /dashboard          # å„€è¡¨æ¿ï¼ˆå€‹äººçµ±è¨ˆç¸½è¦½ï¼‰
â”‚   â”œâ”€â”€ /calendar           # æ—¥æ›†è¦–åœ–
â”‚   â”œâ”€â”€ /records            # è¨˜éŒ„åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ /new            # æ–°å¢è¨˜éŒ„
â”‚   â”‚   â””â”€â”€ /:id            # ç·¨è¼¯/æŸ¥çœ‹è¨˜éŒ„
â”‚   â”œâ”€â”€ /stats              # è©³ç´°çµ±è¨ˆ
â”‚   â”‚   â”œâ”€â”€ /meal           # é£²é£Ÿçµ±è¨ˆ
â”‚   â”‚   â”œâ”€â”€ /sleep          # ç¡çœ çµ±è¨ˆ
â”‚   â”‚   â”œâ”€â”€ /bowel          # æ’ä¾¿çµ±è¨ˆ
â”‚   â”‚   â”œâ”€â”€ /exercise       # é‹å‹•çµ±è¨ˆ
â”‚   â”‚   â”œâ”€â”€ /intimacy       # è¦ªå¯†çµ±è¨ˆ
â”‚   â”‚   â”œâ”€â”€ /medication     # è—¥ç‰©çµ±è¨ˆ
â”‚   â”‚   â””â”€â”€ /custom/:slug   # è‡ªè¨‚é¡å‹çµ±è¨ˆ
â”‚   â”œâ”€â”€ /settings           # è¨­å®š
â”‚   â”‚   â”œâ”€â”€ /profile        # å€‹äººè³‡æ–™
â”‚   â”‚   â”œâ”€â”€ /privacy        # éš±ç§è¨­å®š
â”‚   â”‚   â”œâ”€â”€ /record-types   # ç®¡ç†è¨˜éŒ„é¡å‹
â”‚   â”‚   â”œâ”€â”€ /export         # æ•¸æ“šåŒ¯å‡º
â”‚   â”‚   â””â”€â”€ /account        # å¸³è™Ÿè¨­å®š
â”‚   â””â”€â”€ /achievements       # æˆå°±/å¾½ç« 
â”‚
â”œâ”€â”€ /community              # ç¤¾ç¾¤ï¼ˆå…¬é–‹å€ï¼‰
â”‚   â”œâ”€â”€ /leaderboard        # æ’è¡Œæ¦œ
â”‚   â”œâ”€â”€ /challenges         # æŒ‘æˆ°æ´»å‹•
â”‚   â””â”€â”€ /u/:username        # å…¬é–‹ç”¨æˆ¶é é¢
â”‚
â””â”€â”€ /about                  # é—œæ–¼é é¢
```

### ç›®éŒ„çµæ§‹

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common/             # é€šç”¨çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â”‚   â”œâ”€â”€ Avatar.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ layout/             # ä½ˆå±€çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx
â”‚   â”‚   â””â”€â”€ AuthLayout.tsx
â”‚   â”œâ”€â”€ records/            # è¨˜éŒ„ç›¸é—œçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ RecordCard.tsx
â”‚   â”‚   â”œâ”€â”€ RecordForm.tsx
â”‚   â”‚   â”œâ”€â”€ RecordList.tsx
â”‚   â”‚   â”œâ”€â”€ forms/          # å„é¡å‹è¡¨å–®
â”‚   â”‚   â”‚   â”œâ”€â”€ MealForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BowelForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SleepForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ExerciseForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ IntimacyForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MedicationForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CustomForm.tsx
â”‚   â”‚   â””â”€â”€ widgets/        # è¨˜éŒ„å°å·¥å…·
â”‚   â”‚       â”œâ”€â”€ BristolScale.tsx
â”‚   â”‚       â”œâ”€â”€ MoodPicker.tsx
â”‚   â”‚       â””â”€â”€ RatingStars.tsx
â”‚   â”œâ”€â”€ calendar/           # æ—¥æ›†çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ CalendarView.tsx
â”‚   â”‚   â”œâ”€â”€ DayCell.tsx
â”‚   â”‚   â””â”€â”€ DayDetail.tsx
â”‚   â”œâ”€â”€ stats/              # çµ±è¨ˆçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ StatCard.tsx
â”‚   â”‚   â”œâ”€â”€ TrendChart.tsx
â”‚   â”‚   â”œâ”€â”€ PieChart.tsx
â”‚   â”‚   â”œâ”€â”€ BarChart.tsx
â”‚   â”‚   â”œâ”€â”€ HeatMap.tsx
â”‚   â”‚   â””â”€â”€ StreakDisplay.tsx
â”‚   â””â”€â”€ community/          # ç¤¾ç¾¤çµ„ä»¶
â”‚       â”œâ”€â”€ Leaderboard.tsx
â”‚       â”œâ”€â”€ UserCard.tsx
â”‚       â””â”€â”€ ChallengeCard.tsx
â”‚
â”œâ”€â”€ pages/                  # é é¢çµ„ä»¶
â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ app/
â”‚   â””â”€â”€ community/
â”‚
â”œâ”€â”€ hooks/                  # è‡ªè¨‚ Hooks
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useRecords.ts
â”‚   â”œâ”€â”€ useStats.ts
â”‚   â”œâ”€â”€ useCalendar.ts
â”‚   â””â”€â”€ useSupabase.ts
â”‚
â”œâ”€â”€ stores/                 # Zustand ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”œâ”€â”€ recordStore.ts
â”‚   â””â”€â”€ uiStore.ts
â”‚
â”œâ”€â”€ lib/                    # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ supabase.ts         # Supabase å®¢æˆ¶ç«¯
â”‚   â”œâ”€â”€ utils.ts            # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ validators.ts       # é©—è­‰å‡½æ•¸
â”‚   â”œâ”€â”€ constants.ts        # å¸¸é‡å®šç¾©
â”‚   â””â”€â”€ types.ts            # TypeScript é¡å‹
â”‚
â”œâ”€â”€ styles/                 # æ¨£å¼
â”‚   â””â”€â”€ globals.css
â”‚
â””â”€â”€ App.tsx
```

---

## é é¢è¨­è¨ˆè¦æ ¼

### 1. é¦–é  (Landing Page)

**æœªç™»å…¥ç‹€æ…‹**ï¼š
- Hero Sectionï¼šç”¢å“ä»‹ç´¹ã€åŠŸèƒ½äº®é»
- åŠŸèƒ½å±•ç¤ºï¼šå„è¨˜éŒ„é¡å‹ä»‹ç´¹
- å…¬å…±çµ±è¨ˆå±•ç¤ºï¼ˆåŒ¿åèšåˆæ•¸æ“šï¼‰
  - ä»Šæ—¥æ´»èºç”¨æˆ¶æ•¸
  - ç¸½è¨˜éŒ„æ•¸
  - å¹³å‡ç¡çœ æ™‚é•·åˆ†ä½ˆ
  - é‹å‹•é¡å‹æ’è¡Œ
- CTAï¼šè¨»å†Š/ç™»å…¥æŒ‰éˆ•

**å·²ç™»å…¥ç‹€æ…‹**ï¼š
- é‡å°å‘åˆ° /app/dashboard

### 2. å„€è¡¨æ¿ (Dashboard)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘‹ æ—©å®‰ï¼ŒNuboï¼                              [+ å¿«é€Ÿè¨˜éŒ„]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ğŸ”¥ é€£çºŒè¨˜éŒ„  â”‚ â”‚ ğŸ˜´ æ˜¨æ™šç¡çœ   â”‚ â”‚ ğŸ½ï¸ ä»Šæ—¥ç”¨é¤  â”‚           â”‚
â”‚  â”‚   15 å¤©     â”‚ â”‚   7.5 å°æ™‚  â”‚ â”‚   2/3 é¤    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ“… æœ¬é€±æ¦‚è¦½                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                      â”‚  â”‚
â”‚  â”‚  â”‚ ä¸€â”‚ äºŒâ”‚ ä¸‰â”‚ å››â”‚ äº”â”‚ å…­â”‚ æ—¥â”‚                      â”‚  â”‚
â”‚  â”‚  â”‚ğŸ½ï¸ğŸ’©â”‚ğŸ½ï¸ğŸ˜´â”‚ğŸ½ï¸ â”‚ğŸ½ï¸ğŸ’©â”‚   â”‚   â”‚   â”‚                      â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ˜´â”‚ğŸƒ â”‚ ğŸ˜´â”‚ ğŸ˜´â”‚   â”‚   â”‚   â”‚                      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  æœ€è¿‘è¨˜éŒ„             â”‚ â”‚  æœ¬é€±çµ±è¨ˆ                     â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚  â”‚  ğŸ½ï¸ åˆé¤ 12:30        â”‚ â”‚  [ç¡çœ æ™‚é•·è¶¨å‹¢åœ–]            â”‚ â”‚
â”‚  â”‚  æ»·è‚‰é£¯ + é’èœ        â”‚ â”‚                              â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚                              â”‚ â”‚
â”‚  â”‚  ğŸ’© æ’ä¾¿ 08:15        â”‚ â”‚                              â”‚ â”‚
â”‚  â”‚  Bristol 4 Â· 5åˆ†é˜   â”‚ â”‚                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½è¦é»**ï¼š
- å¿«é€Ÿè¨˜éŒ„æŒ‰éˆ•ï¼ˆFAB æˆ–é ‚éƒ¨æŒ‰éˆ•ï¼‰
- ä»Šæ—¥/æœ¬é€±æ‘˜è¦å¡ç‰‡
- é€£çºŒè¨˜éŒ„å¤©æ•¸é¡¯ç¤º
- æœ€è¿‘è¨˜éŒ„åˆ—è¡¨
- æœ¬é€±è¿·ä½ æ—¥æ›†
- é—œéµçµ±è¨ˆåœ–è¡¨

### 3. æ—¥æ›†è¦–åœ– (Calendar)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â—€ 2024å¹´1æœˆ â–¶                              [æœˆ] [é€±] [æ—¥]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ—¥    ä¸€    äºŒ    ä¸‰    å››    äº”    å…­                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚       1     2     3     4     5     6                       â”‚
â”‚      ğŸ½ï¸   ğŸ½ï¸ğŸ’©  ğŸ½ï¸ğŸ˜´  ğŸ½ï¸   ğŸ½ï¸ğŸ’©  ğŸ½ï¸                      â”‚
â”‚            ğŸ˜´        ğŸƒ   ğŸ˜´        ğŸ’ª                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  7     8     9    10    11    12    13                      â”‚
â”‚ ğŸ½ï¸ğŸ’©  ğŸ½ï¸   ğŸ½ï¸ğŸ’©  ğŸ½ï¸   ğŸ½ï¸ğŸ˜´  ğŸ½ï¸   ğŸ½ï¸                      â”‚
â”‚  ğŸ˜´   ğŸ˜´ğŸƒ  ğŸ˜´   ğŸ˜´   ğŸ’•   ğŸ˜´ğŸ’ª  ...                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ...                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… 1æœˆ15æ—¥ (é€±ä¸€)                           [+ æ–°å¢è¨˜éŒ„]   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ½ï¸ 08:00 æ—©é¤ - åå¸ + å’–å•¡                        â”‚   â”‚
â”‚  â”‚  ğŸ’© 08:30 æ’ä¾¿ - Bristol 4                          â”‚   â”‚
â”‚  â”‚  ğŸ½ï¸ 12:30 åˆé¤ - ä¾¿ç•¶                               â”‚   â”‚
â”‚  â”‚  ğŸ½ï¸ 19:00 æ™šé¤ - ç«é‹                               â”‚   â”‚
â”‚  â”‚  ğŸ˜´ 23:00 å°±å¯¢                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½è¦é»**ï¼š
- æœˆ/é€±/æ—¥è¦–åœ–åˆ‡æ›
- æ¯æ—¥è¨˜éŒ„åœ–æ¨™é è¦½
- é»æ“Šæ—¥æœŸé¡¯ç¤ºè©³ç´°è¨˜éŒ„
- æ”¯æ´æ‹–æ‹½å‰µå»ºè¨˜éŒ„
- è¨˜éŒ„ç¯©é¸ï¼ˆæŒ‰é¡å‹ï¼‰

### 4. çµ±è¨ˆé é¢ (Stats)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š çµ±è¨ˆåˆ†æ                    [æœ¬é€± â–¼] [ğŸ½ï¸ å…¨éƒ¨é¡å‹ â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æ¦‚è¦½                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚ ç¸½è¨˜éŒ„  â”‚ â”‚ è¨˜éŒ„å¤©æ•¸ â”‚ â”‚ é€£çºŒè¨˜éŒ„ â”‚ â”‚ å®Œæˆç‡  â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  156   â”‚ â”‚  28/30 â”‚ â”‚  15å¤©  â”‚ â”‚  93%  â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ˜´ ç¡çœ åˆ†æ                                          â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  å¹³å‡ç¡çœ : 7.2h    å¹³å‡å…¥ç¡: 23:30    å¹³å‡èµ·åºŠ: 07:00 â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ç¡çœ æ™‚é•·è¶¨å‹¢åœ–â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€]             â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  ç¡çœ å“è³ªåˆ†ä½ˆ          å…¥ç¡æ™‚é–“åˆ†ä½ˆ                   â”‚  â”‚
â”‚  â”‚  [é¤…åœ–]                [ç›´æ–¹åœ–]                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ’© æ’ä¾¿åˆ†æ                                          â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  å¹³å‡æ¬¡æ•¸: 1.2/å¤©   å¹³å‡Bristol: 4.1   è¦å¾‹æ€§: 85%   â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  [Bristolé‡è¡¨åˆ†ä½ˆåœ–]    [æ¯æ—¥æ™‚é–“ç†±åŠ›åœ–]              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å„é¡å‹çµ±è¨ˆå…§å®¹**ï¼š

| é¡å‹ | çµ±è¨ˆæŒ‡æ¨™ | åœ–è¡¨é¡å‹ |
|------|----------|----------|
| ç¡çœ  | å¹³å‡æ™‚é•·ã€å…¥ç¡/èµ·åºŠæ™‚é–“ã€å“è³ªåˆ†ä½ˆ | æŠ˜ç·šåœ–ã€ç›´æ–¹åœ–ã€é¤…åœ– |
| é£²é£Ÿ | é¤æ¬¡å®Œæˆç‡ã€ç†±é‡è¶¨å‹¢ã€å¸¸åƒé£Ÿç‰© | æŸ±ç‹€åœ–ã€è©é›²ã€ç†±åŠ›åœ– |
| æ’ä¾¿ | é »ç‡ã€Bristolåˆ†ä½ˆã€è¦å¾‹æ€§ | æŸ±ç‹€åœ–ã€æ—¥æ›†ç†±åŠ›åœ– |
| é‹å‹• | ç¸½æ™‚é•·ã€æ¶ˆè€—ç†±é‡ã€é¡å‹åˆ†ä½ˆ | æŠ˜ç·šåœ–ã€é¤…åœ–ã€æŸ±ç‹€åœ– |
| è¦ªå¯† | é »ç‡è¶¨å‹¢ã€æ»¿æ„åº¦ | æŠ˜ç·šåœ–ï¼ˆé«˜åº¦éš±ç§ï¼‰ |
| è—¥ç‰© | æœè—¥å®Œæˆç‡ã€æ¼æœè¨˜éŒ„ | æ—¥æ›†è¦–åœ–ã€å®Œæˆç‡åœ– |

### 5. å…¬å…±ç¤¾ç¾¤é é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ† ç¤¾ç¾¤æ’è¡Œæ¦œ                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [ğŸ“… é€£çºŒè¨˜éŒ„] [ğŸ˜´ ç¡çœ é”äºº] [ğŸƒ é‹å‹•å¥å°‡] [ğŸ’© è¦å¾‹å…ˆç”Ÿ]      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ¥‡ @healthylife    é€£çºŒè¨˜éŒ„ 89 å¤©                    â”‚  â”‚
â”‚  â”‚  ğŸ¥ˆ @nubo           é€£çºŒè¨˜éŒ„ 45 å¤©                    â”‚  â”‚
â”‚  â”‚  ğŸ¥‰ @sleepmaster    é€£çºŒè¨˜éŒ„ 38 å¤©                    â”‚  â”‚
â”‚  â”‚  4. @fitguy         é€£çºŒè¨˜éŒ„ 32 å¤©                    â”‚  â”‚
â”‚  â”‚  5. @morningbird    é€£çºŒè¨˜éŒ„ 28 å¤©                    â”‚  â”‚
â”‚  â”‚  ...                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ“Š å…¨ç«™çµ±è¨ˆ                                          â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  æ´»èºç”¨æˆ¶: 1,234    ä»Šæ—¥è¨˜éŒ„: 5,678    ç¸½è¨˜éŒ„: 1.2M  â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  å¹³å‡ç¡çœ æ™‚é•·åˆ†ä½ˆ          æœ€ç†±é–€é‹å‹•é¡å‹             â”‚  â”‚
â”‚  â”‚  [ç›´æ–¹åœ–]                  [é¤…åœ–]                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. ç”¨æˆ¶å…¬é–‹é é¢ (/u/:username)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚ ğŸ‘¤  â”‚  @nubo                                             â”‚
â”‚  â”‚     â”‚  ç ”ç©¶ç”Ÿ | å–œæ­¡è¨˜éŒ„ç”Ÿæ´»                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                             â”‚
â”‚  ğŸ”¥ é€£çºŒè¨˜éŒ„ 45 å¤©    ğŸ“ ç¸½è¨˜éŒ„ 1,234    ğŸ† æ’å #12        â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [å…¬é–‹çš„çµ±è¨ˆæ•¸æ“šå’Œåœ–è¡¨]                                      â”‚
â”‚                                                             â”‚
â”‚  - æ ¹æ“šç”¨æˆ¶éš±ç§è¨­å®šé¡¯ç¤º                                      â”‚
â”‚  - visibility = 'public' çš„è¨˜éŒ„æœƒé¡¯ç¤º                       â”‚
â”‚  - visibility = 'stats_only' åªé¡¯ç¤ºçµ±è¨ˆ                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é–‹ç™¼æµç¨‹

### Phase 1: åŸºç¤å»ºè¨­ (Week 1-2)

#### 1.1 å°ˆæ¡ˆåˆå§‹åŒ–
- [ ] ä½¿ç”¨ Vite å‰µå»º React + TypeScript å°ˆæ¡ˆ
- [ ] é…ç½® Tailwind CSS
- [ ] é…ç½® ESLint + Prettier
- [ ] è¨­ç½®ç›®éŒ„çµæ§‹
- [ ] å®‰è£ä¾è³´å¥—ä»¶

#### 1.2 Supabase è¨­ç½®
- [ ] å‰µå»º Supabase å°ˆæ¡ˆ
- [ ] è¨­è¨ˆä¸¦å‰µå»ºè³‡æ–™è¡¨
- [ ] é…ç½® Row Level Security (RLS)
- [ ] è¨­ç½® Auth providers (Email + Google/GitHub)
- [ ] å‰µå»º Storage bucket (ç”¨æ–¼åœ–ç‰‡)

#### 1.3 åŸºç¤çµ„ä»¶é–‹ç™¼
- [ ] è¨­è¨ˆç³»çµ±ï¼ˆé¡è‰²ã€å­—é«”ã€é–“è·ï¼‰
- [ ] é€šç”¨çµ„ä»¶ï¼šButton, Input, Card, Modal, Loading
- [ ] ä½ˆå±€çµ„ä»¶ï¼šHeader, Sidebar, AppLayout

### Phase 2: ç”¨æˆ¶ç³»çµ± (Week 2-3)

#### 2.1 èªè­‰åŠŸèƒ½
- [ ] ç™»å…¥é é¢
- [ ] è¨»å†Šé é¢
- [ ] å¿˜è¨˜å¯†ç¢¼
- [ ] OAuth ç™»å…¥ (Google/GitHub)
- [ ] ç™»å‡ºåŠŸèƒ½

#### 2.2 ç”¨æˆ¶ç®¡ç†
- [ ] ç”¨æˆ¶è³‡æ–™è¨­å®šé é¢
- [ ] é ­åƒä¸Šå‚³
- [ ] éš±ç§è¨­å®šé é¢
- [ ] å¸³è™Ÿè¨­å®šï¼ˆä¿®æ”¹å¯†ç¢¼ã€åˆªé™¤å¸³è™Ÿï¼‰

#### 2.3 ç‹€æ…‹ç®¡ç†
- [ ] è¨­ç½® Zustand stores
- [ ] å¯¦ç¾ auth ç‹€æ…‹ç®¡ç†
- [ ] è·¯ç”±ä¿è­·ï¼ˆéœ€ç™»å…¥é é¢ï¼‰

### Phase 3: æ ¸å¿ƒè¨˜éŒ„åŠŸèƒ½ (Week 3-5)

#### 3.1 è¨˜éŒ„è¡¨å–®é–‹ç™¼
- [ ] é€šç”¨è¨˜éŒ„è¡¨å–®æ¡†æ¶
- [ ] é£²é£Ÿè¨˜éŒ„è¡¨å–® (MealForm)
- [ ] æ’ä¾¿è¨˜éŒ„è¡¨å–® (BowelForm) + Bristol Scale çµ„ä»¶
- [ ] ç¡çœ è¨˜éŒ„è¡¨å–® (SleepForm)
- [ ] é‹å‹•è¨˜éŒ„è¡¨å–® (ExerciseForm)
- [ ] è¦ªå¯†è¨˜éŒ„è¡¨å–® (IntimacyForm)
- [ ] è—¥ç‰©è¨˜éŒ„è¡¨å–® (MedicationForm)
- [ ] é£²æ°´è¨˜éŒ„è¡¨å–® (WaterForm)
- [ ] å¿ƒæƒ…è¨˜éŒ„è¡¨å–® (MoodForm)

#### 3.2 è¨˜éŒ„ CRUD
- [ ] å‰µå»ºè¨˜éŒ„ API æ•´åˆ
- [ ] è®€å–è¨˜éŒ„åˆ—è¡¨
- [ ] ç·¨è¼¯è¨˜éŒ„
- [ ] åˆªé™¤è¨˜éŒ„
- [ ] è¨˜éŒ„éš±ç§è¨­å®š

#### 3.3 è‡ªè¨‚è¨˜éŒ„é¡å‹
- [ ] è‡ªè¨‚é¡å‹å‰µå»ºä»‹é¢
- [ ] å‹•æ…‹è¡¨å–®ç”Ÿæˆ
- [ ] è‡ªè¨‚é¡å‹ç®¡ç†

### Phase 4: è¦–è¦ºåŒ–åŠŸèƒ½ (Week 5-7)

#### 4.1 æ—¥æ›†è¦–åœ–
- [ ] æœˆè¦–åœ–é–‹ç™¼
- [ ] é€±è¦–åœ–é–‹ç™¼
- [ ] æ—¥è¦–åœ–é–‹ç™¼
- [ ] æ—¥æœŸé¸æ“‡èˆ‡å°èˆª
- [ ] è¨˜éŒ„åœ–æ¨™é¡¯ç¤º
- [ ] æ—¥æœŸé»æ“Šè©³æƒ…å±•é–‹

#### 4.2 å„€è¡¨æ¿
- [ ] ä»Šæ—¥æ‘˜è¦å¡ç‰‡
- [ ] é€£çºŒè¨˜éŒ„é¡¯ç¤º
- [ ] è¿·ä½ é€±æ›†
- [ ] æœ€è¿‘è¨˜éŒ„åˆ—è¡¨
- [ ] å¿«é€Ÿè¨˜éŒ„å…¥å£

#### 4.3 çµ±è¨ˆåœ–è¡¨
- [ ] çµ±è¨ˆæ•¸æ“š API (Supabase Functions)
- [ ] ç¡çœ çµ±è¨ˆé é¢èˆ‡åœ–è¡¨
- [ ] é£²é£Ÿçµ±è¨ˆé é¢èˆ‡åœ–è¡¨
- [ ] æ’ä¾¿çµ±è¨ˆé é¢èˆ‡åœ–è¡¨
- [ ] é‹å‹•çµ±è¨ˆé é¢èˆ‡åœ–è¡¨
- [ ] å…¶ä»–é¡å‹çµ±è¨ˆ
- [ ] ç¶œåˆçµ±è¨ˆæ¦‚è¦½

### Phase 5: ç¤¾ç¾¤åŠŸèƒ½ (Week 7-8)

#### 5.1 å…¬å…±çµ±è¨ˆ
- [ ] å…¨ç«™çµ±è¨ˆ API
- [ ] å…¬å…±çµ±è¨ˆé é¢
- [ ] åŒ¿åèšåˆæ•¸æ“šå±•ç¤º

#### 5.2 æ’è¡Œæ¦œ
- [ ] æ’è¡Œæ¦œ API
- [ ] é€£çºŒè¨˜éŒ„æ’è¡Œ
- [ ] å„é¡å‹é”äººæ’è¡Œ
- [ ] ç”¨æˆ¶æ’åé¡¯ç¤º

#### 5.3 ç”¨æˆ¶å…¬é–‹é é¢
- [ ] å…¬é–‹å€‹äººé é¢
- [ ] æ ¹æ“šéš±ç§è¨­å®šé¡¯ç¤ºå…§å®¹
- [ ] åˆ†äº«åŠŸèƒ½

### Phase 6: å„ªåŒ–èˆ‡éƒ¨ç½² (Week 8-9)

#### 6.1 UI/UX å„ªåŒ–
- [ ] éŸ¿æ‡‰å¼è¨­è¨ˆå„ªåŒ–
- [ ] å‹•ç•«æ•ˆæœ (Framer Motion)
- [ ] Loading ç‹€æ…‹å„ªåŒ–
- [ ] éŒ¯èª¤è™•ç†å„ªåŒ–
- [ ] ç©ºç‹€æ…‹è¨­è¨ˆ

#### 6.2 æ€§èƒ½å„ªåŒ–
- [ ] ä»£ç¢¼åˆ†å‰² (Code Splitting)
- [ ] åœ–ç‰‡å„ªåŒ–
- [ ] ç·©å­˜ç­–ç•¥
- [ ] Lighthouse å„ªåŒ–

#### 6.3 éƒ¨ç½²
- [ ] é…ç½® GitHub Actions
- [ ] éƒ¨ç½²åˆ° GitHub Pages
- [ ] è‡ªè¨‚åŸŸåï¼ˆå¯é¸ï¼‰
- [ ] PWA é…ç½®

### Phase 7: é€²éšåŠŸèƒ½ (å¯é¸)

- [ ] æ•¸æ“šåŒ¯å‡º (CSV/JSON)
- [ ] æ•¸æ“šåŒ¯å…¥
- [ ] æé†’é€šçŸ¥
- [ ] æˆå°±ç³»çµ±
- [ ] å¤šèªè¨€æ”¯æ´
- [ ] æ·±è‰²æ¨¡å¼

---

## Supabase è¨­ç½®æŒ‡å—

### 1. å‰µå»ºå°ˆæ¡ˆ

1. å‰å¾€ [Supabase](https://supabase.com) å‰µå»ºå¸³è™Ÿ
2. å‰µå»ºæ–°å°ˆæ¡ˆï¼Œé¸æ“‡å€åŸŸï¼ˆå»ºè­°é¸ Southeast Asia - Singaporeï¼‰
3. è¨˜éŒ„ä»¥ä¸‹è³‡è¨Šï¼š
   - Project URL: `https://gtheexibxrkfrsntwkvv.supabase.co`
   - Anon Key: `sb_publishable_MIwQ39D1Sx7BlB_LFTz6eA_1QZaQoe_`

### 2. è³‡æ–™åº«è¨­ç½®

åœ¨ SQL Editor ä¸­åŸ·è¡Œä»¥ä¸‹ SQLï¼š

```sql
-- å•Ÿç”¨ UUID æ“´å±•
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- 1. Users è¡¨
CREATE TABLE public.users (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  email TEXT UNIQUE NOT NULL,
  username TEXT UNIQUE,
  avatar_url TEXT,
  bio TEXT,
  settings JSONB DEFAULT '{
    "default_visibility": "private",
    "theme": "system",
    "language": "zh-TW",
    "notifications": true,
    "public_profile": false,
    "show_in_leaderboard": true
  }'::jsonb,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 2. Records è¡¨
CREATE TABLE public.records (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES public.users(id) ON DELETE CASCADE,
  type TEXT NOT NULL,
  data JSONB NOT NULL,
  visibility TEXT DEFAULT 'private' CHECK (visibility IN ('private', 'stats_only', 'public')),
  recorded_at TIMESTAMPTZ NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_records_user_id ON public.records(user_id);
CREATE INDEX idx_records_type ON public.records(type);
CREATE INDEX idx_records_recorded_at ON public.records(recorded_at);
CREATE INDEX idx_records_visibility ON public.records(visibility);

-- 3. Custom Record Types è¡¨
CREATE TABLE public.custom_record_types (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES public.users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  slug TEXT NOT NULL,
  icon TEXT NOT NULL,
  color TEXT DEFAULT '#6366f1',
  fields JSONB NOT NULL,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(user_id, slug)
);

-- 4. Streaks è¡¨
CREATE TABLE public.streaks (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES public.users(id) ON DELETE CASCADE,
  type TEXT NOT NULL,
  current_streak INT DEFAULT 0,
  longest_streak INT DEFAULT 0,
  last_record_date DATE,
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(user_id, type)
);

-- 5. è‡ªå‹•å‰µå»ºç”¨æˆ¶ profile çš„è§¸ç™¼å™¨
CREATE OR REPLACE FUNCTION public.handle_new_user()
RETURNS TRIGGER AS $$
BEGIN
  INSERT INTO public.users (id, email)
  VALUES (NEW.id, NEW.email);
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION public.handle_new_user();

-- 6. è‡ªå‹•æ›´æ–° updated_at çš„è§¸ç™¼å™¨
CREATE OR REPLACE FUNCTION public.update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_users_updated_at
  BEFORE UPDATE ON public.users
  FOR EACH ROW EXECUTE FUNCTION public.update_updated_at();

CREATE TRIGGER update_records_updated_at
  BEFORE UPDATE ON public.records
  FOR EACH ROW EXECUTE FUNCTION public.update_updated_at();
```

### 3. Row Level Security (RLS)

```sql
-- å•Ÿç”¨ RLS
ALTER TABLE public.users ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.records ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.custom_record_types ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.streaks ENABLE ROW LEVEL SECURITY;

-- Users è¡¨ç­–ç•¥
CREATE POLICY "Users can view own profile" ON public.users
  FOR SELECT USING (auth.uid() = id);

CREATE POLICY "Users can update own profile" ON public.users
  FOR UPDATE USING (auth.uid() = id);

CREATE POLICY "Public profiles are viewable" ON public.users
  FOR SELECT USING (settings->>'public_profile' = 'true');

-- Records è¡¨ç­–ç•¥
CREATE POLICY "Users can CRUD own records" ON public.records
  FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Public records are viewable" ON public.records
  FOR SELECT USING (visibility = 'public');

CREATE POLICY "Stats-only records viewable for aggregation" ON public.records
  FOR SELECT USING (visibility IN ('public', 'stats_only'));

-- Custom Record Types è¡¨ç­–ç•¥
CREATE POLICY "Users can CRUD own custom types" ON public.custom_record_types
  FOR ALL USING (auth.uid() = user_id);

-- Streaks è¡¨ç­–ç•¥
CREATE POLICY "Users can view own streaks" ON public.streaks
  FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can update own streaks" ON public.streaks
  FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Public streaks for leaderboard" ON public.streaks
  FOR SELECT USING (
    EXISTS (
      SELECT 1 FROM public.users
      WHERE users.id = streaks.user_id
      AND users.settings->>'show_in_leaderboard' = 'true'
    )
  );
```

### 4. Database Functions (çµ±è¨ˆç”¨)

```sql
-- ç²å–ç”¨æˆ¶çµ±è¨ˆæ‘˜è¦
CREATE OR REPLACE FUNCTION get_user_stats(p_user_id UUID, p_start_date DATE, p_end_date DATE)
RETURNS JSON AS $$
DECLARE
  result JSON;
BEGIN
  SELECT json_build_object(
    'total_records', COUNT(*),
    'records_by_type', json_object_agg(type, cnt),
    'streak_days', (
      SELECT current_streak FROM public.streaks
      WHERE user_id = p_user_id AND type = 'all'
    )
  ) INTO result
  FROM (
    SELECT type, COUNT(*) as cnt
    FROM public.records
    WHERE user_id = p_user_id
      AND recorded_at >= p_start_date
      AND recorded_at < p_end_date + 1
    GROUP BY type
  ) sub;

  RETURN result;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- ç²å–ç¡çœ çµ±è¨ˆ
CREATE OR REPLACE FUNCTION get_sleep_stats(p_user_id UUID, p_days INT DEFAULT 30)
RETURNS JSON AS $$
DECLARE
  result JSON;
BEGIN
  SELECT json_build_object(
    'avg_duration_hours', AVG(
      EXTRACT(EPOCH FROM (
        (data->>'wake_time')::timestamptz - (data->>'sleep_time')::timestamptz
      )) / 3600
    ),
    'avg_quality', AVG((data->>'quality')::numeric),
    'total_records', COUNT(*)
  ) INTO result
  FROM public.records
  WHERE user_id = p_user_id
    AND type = 'sleep'
    AND recorded_at >= NOW() - (p_days || ' days')::interval;

  RETURN result;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- ç²å–æ’è¡Œæ¦œæ•¸æ“š
CREATE OR REPLACE FUNCTION get_leaderboard(p_type TEXT, p_limit INT DEFAULT 10)
RETURNS TABLE (
  user_id UUID,
  username TEXT,
  avatar_url TEXT,
  streak INT
) AS $$
BEGIN
  RETURN QUERY
  SELECT
    s.user_id,
    u.username,
    u.avatar_url,
    s.current_streak as streak
  FROM public.streaks s
  JOIN public.users u ON u.id = s.user_id
  WHERE s.type = p_type
    AND u.settings->>'show_in_leaderboard' = 'true'
  ORDER BY s.current_streak DESC
  LIMIT p_limit;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

### 5. Storage è¨­ç½®

1. åœ¨ Supabase Dashboard ä¸­é€²å…¥ Storage
2. å‰µå»º bucket: `avatars` (public)
3. å‰µå»º bucket: `record-images` (private)
4. è¨­ç½® Storage policies

```sql
-- Avatars bucket policies
CREATE POLICY "Avatar images are publicly accessible"
ON storage.objects FOR SELECT
USING (bucket_id = 'avatars');

CREATE POLICY "Users can upload own avatar"
ON storage.objects FOR INSERT
WITH CHECK (
  bucket_id = 'avatars'
  AND auth.uid()::text = (storage.foldername(name))[1]
);

-- Record images bucket policies
CREATE POLICY "Users can view own record images"
ON storage.objects FOR SELECT
USING (
  bucket_id = 'record-images'
  AND auth.uid()::text = (storage.foldername(name))[1]
);

CREATE POLICY "Users can upload own record images"
ON storage.objects FOR INSERT
WITH CHECK (
  bucket_id = 'record-images'
  AND auth.uid()::text = (storage.foldername(name))[1]
);
```

### 6. Auth è¨­ç½®

1. åœ¨ Authentication > Providers ä¸­å•Ÿç”¨ï¼š
   - Email (é è¨­å•Ÿç”¨)
   - Google (éœ€é…ç½® OAuth)
   - GitHub (éœ€é…ç½® OAuth)

2. åœ¨ Authentication > URL Configuration ä¸­è¨­ç½®ï¼š
   - Site URL: `https://yourusername.github.io/life-tracker`
   - Redirect URLs: æ·»åŠ æœ¬åœ°é–‹ç™¼ URL `http://localhost:5173`

### 7. ç’°å¢ƒè®Šæ•¸

å‰µå»º `.env` æ–‡ä»¶ï¼š

```env
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJxxx...
```

---

## é™„éŒ„

### A. å¸¸é‡å®šç¾©

```typescript
// src/lib/constants.ts

export const RECORD_TYPES = {
  MEAL: 'meal',
  BOWEL: 'bowel',
  SLEEP: 'sleep',
  EXERCISE: 'exercise',
  INTIMACY: 'intimacy',
  MEDICATION: 'medication',
  WATER: 'water',
  MOOD: 'mood',
} as const;

export const RECORD_TYPE_CONFIG = {
  meal: {
    label: 'é£²é£Ÿ',
    icon: 'ğŸ½ï¸',
    color: '#f59e0b',
  },
  bowel: {
    label: 'æ’ä¾¿',
    icon: 'ğŸ’©',
    color: '#92400e',
  },
  sleep: {
    label: 'ç¡çœ ',
    icon: 'ğŸ˜´',
    color: '#6366f1',
  },
  exercise: {
    label: 'é‹å‹•',
    icon: 'ğŸƒ',
    color: '#10b981',
  },
  intimacy: {
    label: 'è¦ªå¯†',
    icon: 'ğŸ’•',
    color: '#ec4899',
  },
  medication: {
    label: 'è—¥ç‰©',
    icon: 'ğŸ’Š',
    color: '#3b82f6',
  },
  water: {
    label: 'é£²æ°´',
    icon: 'ğŸ’§',
    color: '#06b6d4',
  },
  mood: {
    label: 'å¿ƒæƒ…',
    icon: 'ğŸ˜Š',
    color: '#8b5cf6',
  },
};

export const VISIBILITY_OPTIONS = {
  private: { label: 'ç§å¯†', icon: 'ğŸ”’' },
  stats_only: { label: 'åƒ…çµ±è¨ˆ', icon: 'ğŸ“Š' },
  public: { label: 'å…¬é–‹', icon: 'ğŸŒ' },
};

export const BRISTOL_SCALE = [
  { value: 1, label: 'åˆ†é›¢ç¡¬å¡Š', description: 'ä¾¿ç§˜åš´é‡', color: '#dc2626' },
  { value: 2, label: 'é¦™è…¸ç‹€å‡¹å‡¸', description: 'è¼•å¾®ä¾¿ç§˜', color: '#ea580c' },
  { value: 3, label: 'é¦™è…¸æœ‰è£‚ç—•', description: 'æ­£å¸¸', color: '#65a30d' },
  { value: 4, label: 'å…‰æ»‘é¦™è…¸ç‹€', description: 'ç†æƒ³', color: '#16a34a' },
  { value: 5, label: 'è»Ÿå¡Š', description: 'ç¼ºä¹çº–ç¶­', color: '#65a30d' },
  { value: 6, label: 'ç³Šç‹€', description: 'è¼•å¾®è…¹ç€‰', color: '#ea580c' },
  { value: 7, label: 'æ°´ç‹€', description: 'è…¹ç€‰', color: '#dc2626' },
];

export const MEAL_TYPES = [
  { value: 'breakfast', label: 'æ—©é¤' },
  { value: 'lunch', label: 'åˆé¤' },
  { value: 'dinner', label: 'æ™šé¤' },
  { value: 'snack', label: 'é»å¿ƒ' },
  { value: 'drink', label: 'é£²å“' },
];

export const EXERCISE_TYPES = [
  { value: 'running', label: 'è·‘æ­¥' },
  { value: 'walking', label: 'èµ°è·¯' },
  { value: 'cycling', label: 'é¨è»Š' },
  { value: 'swimming', label: 'æ¸¸æ³³' },
  { value: 'gym', label: 'å¥èº«æˆ¿' },
  { value: 'yoga', label: 'ç‘œä¼½' },
  { value: 'basketball', label: 'ç±ƒçƒ' },
  { value: 'badminton', label: 'ç¾½æ¯›çƒ' },
  { value: 'hiking', label: 'ç™»å±±' },
  { value: 'other', label: 'å…¶ä»–' },
];
```

### B. TypeScript é¡å‹å®šç¾©

```typescript
// src/lib/types.ts

export type RecordType =
  | 'meal'
  | 'bowel'
  | 'sleep'
  | 'exercise'
  | 'intimacy'
  | 'medication'
  | 'water'
  | 'mood'
  | `custom_${string}`;

export type Visibility = 'private' | 'stats_only' | 'public';

export interface User {
  id: string;
  email: string;
  username: string | null;
  avatar_url: string | null;
  bio: string | null;
  settings: UserSettings;
  created_at: string;
  updated_at: string;
}

export interface UserSettings {
  default_visibility: Visibility;
  theme: 'light' | 'dark' | 'system';
  language: 'zh-TW' | 'en';
  notifications: boolean;
  public_profile: boolean;
  show_in_leaderboard: boolean;
}

export interface Record {
  id: string;
  user_id: string;
  type: RecordType;
  data: RecordData;
  visibility: Visibility;
  recorded_at: string;
  created_at: string;
  updated_at: string;
}

export type RecordData =
  | MealData
  | BowelData
  | SleepData
  | ExerciseData
  | IntimacyData
  | MedicationData
  | WaterData
  | MoodData
  | CustomData;

export interface MealData {
  meal_type: 'breakfast' | 'lunch' | 'dinner' | 'snack' | 'drink';
  content: string;
  photo_url?: string;
  calories?: number;
  location?: string;
  tags?: string[];
  rating?: number;
  notes?: string;
}

export interface BowelData {
  bristol_scale: 1 | 2 | 3 | 4 | 5 | 6 | 7;
  duration?: number;
  strain_level?: number;
  blood?: boolean;
  color?: 'brown' | 'dark_brown' | 'green' | 'yellow' | 'black' | 'red';
  notes?: string;
}

export interface SleepData {
  sleep_time: string;
  wake_time: string;
  quality?: number;
  dream?: boolean;
  dream_content?: string;
  interruptions?: number;
  aids?: string[];
  notes?: string;
}

export interface ExerciseData {
  exercise_type: string;
  duration: number;
  intensity?: 'light' | 'moderate' | 'vigorous';
  calories_burned?: number;
  distance?: number;
  heart_rate_avg?: number;
  heart_rate_max?: number;
  location?: string;
  notes?: string;
}

export interface IntimacyData {
  type: 'solo' | 'partnered';
  duration?: number;
  satisfaction?: number;
  protection?: boolean;
  partner_initiate?: boolean;
  mood_before?: string;
  mood_after?: string;
  notes?: string;
}

export interface MedicationData {
  medication_name: string;
  dosage: string;
  purpose?: string;
  prescription?: boolean;
  taken: boolean;
  scheduled_time?: string;
  actual_time?: string;
  side_effects?: string;
  notes?: string;
}

export interface WaterData {
  amount: number;
  type?: 'water' | 'tea' | 'coffee' | 'other';
  temperature?: 'cold' | 'room' | 'warm' | 'hot';
}

export interface MoodData {
  mood_level: number;
  emotions?: string[];
  energy_level?: number;
  stress_level?: number;
  triggers?: string;
  notes?: string;
}

export interface CustomData {
  [key: string]: unknown;
}

export interface CustomRecordType {
  id: string;
  user_id: string;
  name: string;
  slug: string;
  icon: string;
  color: string;
  fields: CustomField[];
  is_active: boolean;
  created_at: string;
}

export interface CustomField {
  name: string;
  label: string;
  type: 'text' | 'number' | 'select' | 'boolean' | 'datetime' | 'rating';
  unit?: string;
  required: boolean;
  options?: string[];
}

export interface Streak {
  id: string;
  user_id: string;
  type: string;
  current_streak: number;
  longest_streak: number;
  last_record_date: string | null;
  updated_at: string;
}
```

---

## é ä¼°æ™‚ç¨‹

| éšæ®µ | å…§å®¹ | æ™‚é–“ |
|------|------|------|
| Phase 1 | åŸºç¤å»ºè¨­ | 1-2 é€± |
| Phase 2 | ç”¨æˆ¶ç³»çµ± | 1 é€± |
| Phase 3 | æ ¸å¿ƒè¨˜éŒ„åŠŸèƒ½ | 2 é€± |
| Phase 4 | è¦–è¦ºåŒ–åŠŸèƒ½ | 2 é€± |
| Phase 5 | ç¤¾ç¾¤åŠŸèƒ½ | 1 é€± |
| Phase 6 | å„ªåŒ–èˆ‡éƒ¨ç½² | 1 é€± |
| **ç¸½è¨ˆ** | | **8-9 é€±** |

---

## åƒè€ƒè³‡æº

- [Supabase Documentation](https://supabase.com/docs)
- [React Documentation](https://react.dev)
- [Tailwind CSS](https://tailwindcss.com)
- [Recharts](https://recharts.org)
- [Framer Motion](https://www.framer.com/motion/)
- [Zustand](https://zustand-demo.pmnd.rs/)
- [React Hook Form](https://react-hook-form.com/)

---

> ğŸ“ **æ–‡ä»¶ç‰ˆæœ¬**: 1.0.0
> ğŸ“… **æœ€å¾Œæ›´æ–°**: 2024-01
> ğŸ‘¤ **ä½œè€…**: Claude (for Nubo)